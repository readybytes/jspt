<?xml version="1.0" ?>
<!-- $Id: build.xml shyam $	 
	1. data is there in dir.tmp// proj.locations
	2. just build the part and put at right location
	
 -->
<project name="XIPT Component" basedir="." default="build" description="Phing build script for JSPT component.">

	<target name="config" description="Load configuration file">
		<property file="com_xipt.properties"  override="true" />
	</target>

	<target name="build" description="Build Installable XiPT Component " depends="config">
		<echo msg="Building the XiPT component...." />

		<move 	file="${dir.tmp}/admin/${dir.projectname}.xml" 
			tofile="${dir.tmp}/${dir.projectname}.xml"
			overwrite="true"/>
		<move 	file="${dir.tmp}/admin/install.${dir.projectname}.php" 
			tofile="${dir.tmp}/install.${dir.projectname}.php" 
			overwrite="true"/>
		<move 	file="${dir.tmp}/admin/uninstall.${dir.projectname}.php" 
			tofile="${dir.tmp}/uninstall.${dir.projectname}.php" 
			overwrite="true"/>
<!-- 
Zend_Sniffs_Files_LineLengthSniff
Zend_Sniffs_Debug_CodeAnalyzerSniff
Generic_Sniffs_WhiteSpace_DisallowTabIndentSniff
PEAR_Sniffs_ControlStructures_ControlSignatureSniff
PEAR_Sniffs_Functions_FunctionCallArgumentSpacingSniff
PEAR_Sniffs_Functions_FunctionCallSignatureSniff
PEAR_Sniffs_Functions_ValidDefaultValueSniff
PEAR_Sniffs_WhiteSpace_ScopeClosingBraceSniff
Squiz_Sniffs_Functions_GlobalFunctionSniff
PEAR_Sniffs_Files_LineEndingsSniff
Generic_Sniffs_Functions_OpeningFunctionBraceBsdAllmanSniff
Zend_Sniffs_NamingConventions_ValidVariableNameSniff
PEAR_Sniffs_Classes_ClassDeclarationSniff
 -->
		<phpcodesniffer
			standard="Zend"
			format="summary"
			showSniffs="true"
			file="${dir.tmp}"
			sniffs="Zend_Sniffs_Files_ClosingTagSniff 
					Generic_Sniffs_PHP_DisallowShortOpenTagSniff
				   "
			allowedFileExtensions="php" />

		<delete file="${dir.packages}/${file.package}${svn.lastrevision}${file.extension}" />
		<tar destfile="${dir.packages}/${file.package}${svn.lastrevision}${file.extension}" 
			basedir="${dir.tmp}" 
			compression="${file.compression}" />
	</target>
</project>
